##### MySQL复制原理及流程

博客：http://www.cnblogs.com/jirglt/p/3549047.html
http://www.cnblogs.com/hustcat/archive/2009/12/19/1627525.html

1. 概念

    复制过程中一个服务器充当主服务器，而一个或多个其它服务器充当从服务器。
    
    主服务器将更新写入二进制日志文件，并维护文件的一个索引以跟踪日志循环。这些

    日志可以记录发送到从服务器的更新。当一个从服务器连接主服务器时，它通知主服

    务器从服务器在日志中读取的最后一次成功更新的位置。从服务器接收从那时起发生

    的任何更新，然后封锁并等待主服务器通知新的更新。
    
2. 支持的复制类型

    2.1 基于语句的复制

    在主服务器上执行的sql，在从服务器上同样执行。MySQL默认采用该基于语句的复制，效率比较高。

    2.2 基于行的复制

     把改变的内容复制过去，而不是把命令在从服务器上执行一遍，mysql5.0开始支持。

    2.3 混合类型的复制

    默认采用基于语句的复制，一旦发现无法精确复制时，采用该基于行的复制。

3. 复制解决的问题

    数据分布、负载均衡、备份、高可用性和容错行。

4. 复制如何工作

    4.1 Master将改变记录到二进制日志（binary log）中

    4.2 Slave将Master的二进制日志复制到其中继日志（relay log）

    4.3 Slave重做中继日志事件，将改变反映到自己的数据

    从服务器有2线程：
    
    - I/O线程，负责读取主服务器的二进制日志，并将其保存为中继日志。
    - SQL线程，复制执行中继日志。


##### 二、MyiSAM与InnoDB的区别

1. InnoDB支持事务，而MyISAM不支持事务

2. InnoDB支持行级锁，而MyISAM支持表级锁

3. InnoDB支持MVCC, 而MyISAM不支持

4. InnoDB支持外键，而MyISAM不支持

5. InnoDB不支持全文索引，而MyISAM支持。


##### 三、InnoDB的事务与日志实现方式

1. 日志种类


#### 四、分布式数据库产品的特点（至少写4条）

1. 数据分布在多个异地点，抗灾性强
2. 并发性高
3. 受网络影响很大
4. 单机的性能不是特别重要，但是总体成本很高。
5. 扩展性强

 
#### 五、数据拆分架构的优缺点（至少写8条）

1. 透明性，程序不需要做任何修改
2. 解决集中数据库的扩展局限性。实现水平扩展问题，涉及到数据的拆分问题
3. 提高数据库服务的性能、可靠性、可用性
4. 实现技术不难，开发成本和维护成本可控
5. 测试成本高
6. 无法支持分布式事务
7. 数据拆分后数据合并难
8. 部分功能限制
9. 扩展受限

